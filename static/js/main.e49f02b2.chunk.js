(this["webpackJsonpcrud-symfony"]=this["webpackJsonpcrud-symfony"]||[]).push([[0],[,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(3),r=n.n(c),u=(n(9),n(1));n(10),n(11);var l=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("Nuevo"),l=Object(u.a)(r,2),s=l[0],m=l[1],i=Object(a.useState)("nuevo btn btn-success"),b=Object(u.a)(i,2),d=b[0],p=b[1],f=Object(a.useState)([]),h=Object(u.a)(f,2),E=h[0],v=h[1],y=Object(a.useState)(""),O=Object(u.a)(y,2),N=O[0],g=O[1],j=Object(a.useState)(""),S=Object(u.a)(j,2),k=S[0],w=S[1],x=Object(a.useState)("nombreNuevo"),C=Object(u.a)(x,2),P=C[0],J=C[1];function F(e){fetch("https://crud-symfony-back.herokuapp.com/eliminarPersona",{method:"POST",headers:new Headers({}),body:JSON.stringify({id:parseInt(e.target.name)})}).then((function(e){return e.text()})).then((function(e){B()}))}function B(){fetch("https://crud-symfony-back.herokuapp.com/getPersonas",{}).then((function(e){return e.text()})).then((function(e){v(JSON.parse(e).reverse())}))}function H(e){"nombreNuevo"===e.target.name?(J("nombreNuevo"),g(e.target.value)):(J("edadNuevo"),w(e.target.value))}function T(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(e.persona.nombre),s=Object(u.a)(l,2),m=s[0],i=s[1],b=Object(a.useState)(e.persona.edad),d=Object(u.a)(b,2),p=d[0],f=d[1],h=Object(a.useState)(!1),E=Object(u.a)(h,2),v=E[0],y=E[1],O=Object(a.useState)(!1),N=Object(u.a)(O,2),g=N[0],j=N[1];return c?o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{value:m,autoFocus:v,onChange:function(e){y(!0),j(!1),i(e.target.value)},className:"form-control",type:"text"}))),o.a.createElement("th",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{value:p,autoFocus:g,onChange:function(e){j(!0),y(!1),f(e.target.value)},className:"form-control",type:"text"}))),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){r(!1),fetch("https://crud-symfony-back.herokuapp.com/editarPersona",{method:"POST",headers:new Headers({}),body:JSON.stringify({id:e.persona.id,nombre:m,edad:p})}).then((function(e){return e.text()})).then((function(e){B()}))},type:"button",className:"btn btn-secondary"},"Guardar")),o.a.createElement("td",null,o.a.createElement("button",{type:"button",className:"btn btn-danger"},"Eliminar"))):o.a.createElement("tr",null,o.a.createElement("th",null,m),o.a.createElement("td",null,p),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){r(!0)},type:"button",className:"btn btn-warning"},"Editar")),o.a.createElement("td",null,o.a.createElement("button",{onClick:F,name:e.persona.id,type:"button",className:"btn btn-danger"},"Eliminar")))}function A(e){if(e.click){var t=!1,n=!1;return"nombreNuevo"==P?t=!0:n=!0,o.a.createElement("div",{className:"datosNuevos"},o.a.createElement("input",{autoFocus:t,name:"nombreNuevo",onChange:function(e){return H(e)},value:N,placeholder:"Nombre",type:"text"}),o.a.createElement("input",{autoFocus:n,name:"edadNuevo",onChange:function(e){return H(e)},value:k,placeholder:"Edad",type:"text"}))}return o.a.createElement("span",null)}return Object(a.useEffect)((function(){B()}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("h1",{className:"titulo"},"CRUD. React, Symfony, MySQL, Bootstrap."),o.a.createElement("button",{onClick:function(e){n?(fetch("https://crud-symfony-back.herokuapp.com/nuevaPersona",{method:"POST",headers:new Headers({}),body:JSON.stringify({nombre:N,edad:k})}).then((function(e){return e.text()})).then((function(e){B()})),c(!1),m("Nuevo"),p("nuevo btn btn-success")):(c(!0),m("Agregar"),p("nuevo btn btn-info"))},type:"button",className:d},s),o.a.createElement(A,{click:n}),o.a.createElement("table",{className:"table table-dark table-striped table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"Nombre"),o.a.createElement("th",{scope:"col"},"Edad"),o.a.createElement("th",{scope:"col"}),o.a.createElement("th",{scope:"col"}))),o.a.createElement("tbody",null,E.map((function(e,t){return o.a.createElement(T,{key:e.id,persona:e})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.e49f02b2.chunk.js.map